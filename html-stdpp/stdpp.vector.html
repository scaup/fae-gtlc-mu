<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../overview.html">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">stdpp.vector</h1>

<div class="code">
</div>

<div class="doc">
This file collects general purpose definitions and theorems on vectors
(lists of fixed length). It uses the definitions from the standard library, but
renames or changes their notations, so that it becomes more consistent with the
naming conventions in this development. 
</div>
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="stdpp.countable.html#"><span class="id" title="library">countable</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="stdpp.fin.html#"><span class="id" title="library">fin</span></a> <a class="idref" href="stdpp.list.html#"><span class="id" title="library">list</span></a>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type".<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">vector_scope</span>.<br/>

<br/>
</div>

<div class="doc">
The type <span class="inlinecode"><a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a></span> represents lists of consisting of exactly <span class="inlinecode"><a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a></span> elements.
Whereas the standard library declares exactly the same notations for vectors as
used for lists, we use slightly different notations so it becomes easier to use
lists and vectors together. 
</div>
<div class="code">
<span class="id" title="keyword">Notation</span> <a name="vec"><span class="id" title="abbreviation">vec</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a name="vnil"><span class="id" title="abbreviation">vnil</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Vectors.Vector.html#nil"><span class="id" title="constructor">Vector.nil</span></a>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Vectors.Vector.html#nil"><span class="id" title="constructor">vnil</span></a> {<span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Notation</span> <a name="vcons"><span class="id" title="abbreviation">vcons</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Vectors.Vector.html#cons"><span class="id" title="constructor">Vector.cons</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a name="vapp"><span class="id" title="abbreviation">vapp</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Vectors.Vector.html#append"><span class="id" title="definition">Vector.append</span></a>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Vectors.Vector.html#cons"><span class="id" title="constructor">vcons</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Infix</span> <a name="72b73f5650a2937a85312174dd439164"><span class="id" title="notation">&quot;</span></a>:::" := <a class="idref" href="stdpp.vector.html#vcons"><span class="id" title="abbreviation">vcons</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 60, <span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">vector_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="0c6f435083e44f0f2e590bd8bd1c6f82"><span class="id" title="notation">&quot;</span></a>(:::)" := <a class="idref" href="stdpp.vector.html#vcons"><span class="id" title="abbreviation">vcons</span></a> (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">vector_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="348b7cb101eed274f0310cbc9dd59a5b"><span class="id" title="notation">&quot;</span></a>( x :::.)" := (<a class="idref" href="stdpp.vector.html#vcons"><span class="id" title="abbreviation">vcons</span></a> <span class="id" title="var">x</span>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">vector_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="b8f81f1fbf08cc7e59f6058b5771a629"><span class="id" title="notation">&quot;</span></a>(.::: v )" := (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.vector.html#vcons"><span class="id" title="abbreviation">vcons</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">v</span>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">vector_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="261607594965a7bc2b3dae18cc7ac0f3"><span class="id" title="notation">&quot;</span></a>[# ] " := <a class="idref" href="stdpp.vector.html#vnil"><span class="id" title="abbreviation">vnil</span></a> : <span class="id" title="var">vector_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="9e7ec6b2342321c30ed8822af0073285"><span class="id" title="notation">&quot;</span></a>[# x ] " := (<a class="idref" href="stdpp.vector.html#vcons"><span class="id" title="abbreviation">vcons</span></a> <span class="id" title="var">x</span> <a class="idref" href="stdpp.vector.html#vnil"><span class="id" title="abbreviation">vnil</span></a>) : <span class="id" title="var">vector_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="1ac4b8f81a2acdacd0e1ce2b221348b9"><span class="id" title="notation">&quot;</span></a>[# x ; .. ; y ] " := (<a class="idref" href="stdpp.vector.html#vcons"><span class="id" title="abbreviation">vcons</span></a> <span class="id" title="var">x</span> .. (<a class="idref" href="stdpp.vector.html#vcons"><span class="id" title="abbreviation">vcons</span></a> <span class="id" title="var">y</span> <a class="idref" href="stdpp.vector.html#vnil"><span class="id" title="abbreviation">vnil</span></a>) ..) : <span class="id" title="var">vector_scope</span>.<br/>
<span class="id" title="keyword">Infix</span> <a name="113fda7f247b39926efae411da722a7b"><span class="id" title="notation">&quot;</span></a>+++" := <a class="idref" href="stdpp.vector.html#vapp"><span class="id" title="abbreviation">vapp</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 60, <span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">vector_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="52c286cbaac5ec168c8b62f26474766c"><span class="id" title="notation">&quot;</span></a>(+++)" := <a class="idref" href="stdpp.vector.html#vapp"><span class="id" title="abbreviation">vapp</span></a> (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">vector_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="12f67ca11e5e42fdf356df5b69436162"><span class="id" title="notation">&quot;</span></a>( v +++.)" := (<a class="idref" href="stdpp.vector.html#vapp"><span class="id" title="abbreviation">vapp</span></a> <span class="id" title="var">v</span>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">vector_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="6739da81e194c969b2da39d775dfa044"><span class="id" title="notation">&quot;</span></a>(.+++ w )" := (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.vector.html#vapp"><span class="id" title="abbreviation">vapp</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="var">w</span>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">vector_scope</span>.<br/>

<br/>
</div>

<div class="doc">
Similar to <span class="inlinecode"><a class="idref" href="stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a></span>, we provide an inversion principle that keeps the length
fixed. We define a tactic <span class="inlinecode"><span class="id" title="var">inv_vec</span></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a></span> to perform case analysis on <span class="inlinecode"><a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a></span>, using
this inversion principle. 
</div>
<div class="code">
<span class="id" title="keyword">Notation</span> <a name="vec_0_inv"><span class="id" title="abbreviation">vec_0_inv</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Vectors.Vector.html#case0"><span class="id" title="definition">Vector.case0</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="vec_S_inv"><span class="id" title="definition">vec_S_inv</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span>} (<span class="id" title="var">P</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">Hcons</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">x</span> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.vector.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.vector.html#72b73f5650a2937a85312174dd439164"><span class="id" title="notation">:::</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>)) <span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">P</span> <span class="id" title="var">Hcons</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> <span class="id" title="keyword">match</span> <span class="id" title="var">v</span> <span class="id" title="keyword">with</span> <a class="idref" href="stdpp.vector.html#261607594965a7bc2b3dae18cc7ac0f3"><span class="id" title="notation">[#]</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> | <span class="id" title="var">x</span> <a class="idref" href="stdpp.vector.html#72b73f5650a2937a85312174dd439164"><span class="id" title="notation">:::</span></a> <span class="id" title="var">v</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">P</span> <span class="id" title="var">Hcons</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.vector.html#Hcons"><span class="id" title="variable">Hcons</span></a> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="vector_lookup_total"><span class="id" title="instance">vector_lookup_total</span></a> <span class="id" title="var">A</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#LookupTotal"><span class="id" title="class">LookupTotal</span></a> (<a class="idref" href="stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="stdpp.vector.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> (<a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#m"><span class="id" title="variable">m</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fix</span> <span class="id" title="var">go</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> {<span class="id" title="keyword">struct</span> <span class="id" title="var">i</span>} := <span class="id" title="keyword">let</span> <span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#LookupTotal"><span class="id" title="class">LookupTotal</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> := @<a class="idref" href="stdpp.vector.html#go"><span class="id" title="variable">go</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">fin</span> <span class="id" title="var">m</span> <span class="id" title="keyword">return</span> <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <span class="id" title="var">A</span> <a class="idref" href="stdpp.vector.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="var">A</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| 0%<span class="id" title="var">fin</span> =&gt; <a class="idref" href="stdpp.vector.html#vec_S_inv"><span class="id" title="definition">vec_S_inv</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">x</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">FS</span> <span class="id" title="var">j</span> =&gt; <a class="idref" href="stdpp.vector.html#vec_S_inv"><span class="id" title="definition">vec_S_inv</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <span class="id" title="var">j</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
The tactic <span class="inlinecode"><span class="id" title="var">vec_double_ind</span></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#v1"><span class="id" title="variable">v1</span></a></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#v2"><span class="id" title="variable">v2</span></a></span> performs double induction on <span class="inlinecode"><a class="idref" href="stdpp.vector.html#v1"><span class="id" title="variable">v1</span></a></span> and <span class="inlinecode"><a class="idref" href="stdpp.vector.html#v2"><span class="id" title="variable">v2</span></a></span>
provided that they have the same length. 
</div>
<div class="code">
<span class="id" title="keyword">Notation</span> <a name="vec_rect2"><span class="id" title="abbreviation">vec_rect2</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Vectors.Vector.html#rect2"><span class="id" title="definition">Vector.rect2</span></a>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">vec_double_ind</span> <span class="id" title="var">v1</span> <span class="id" title="var">v2</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">v1</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H'</span> : <span class="id" title="keyword">context</span> [ <span class="id" title="var">n</span> ] |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">var_neq</span> <span class="id" title="var">v1</span> <span class="id" title="var">H'</span>; <span class="id" title="var">var_neq</span> <span class="id" title="var">v2</span> <span class="id" title="var">H'</span>; <span class="id" title="var">revert</span> <span class="id" title="var">H'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">n</span> <span class="id" title="var">v1</span> <span class="id" title="var">v2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">n</span> <span class="id" title="var">v1</span> <span class="id" title="var">v2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> @?<span class="id" title="var">P</span> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="stdpp.vector.html#v1"><span class="id" title="variable">v1</span></a> <a class="idref" href="stdpp.vector.html#v2"><span class="id" title="variable">v2</span></a> =&gt; <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.vector.html#vec_rect2"><span class="id" title="abbreviation">vec_rect2</span></a> <span class="id" title="var">P</span>) <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="vcons_inj"><span class="id" title="abbreviation">vcons_inj</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Vectors.VectorSpec.html#cons_inj"><span class="id" title="definition">VectorSpec.cons_inj</span></a>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="vcons_inj_1"><span class="id" title="lemma">vcons_inj_1</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span>} <span class="id" title="var">x</span> <span class="id" title="var">y</span> (<span class="id" title="var">v</span> <span class="id" title="var">w</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) : <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.vector.html#72b73f5650a2937a85312174dd439164"><span class="id" title="notation">:::</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="stdpp.vector.html#72b73f5650a2937a85312174dd439164"><span class="id" title="notation">:::</span></a> <a class="idref" href="stdpp.vector.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.vector.html#vcons_inj"><span class="id" title="abbreviation">vcons_inj</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="vcons_inj_2"><span class="id" title="lemma">vcons_inj_2</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span>} <span class="id" title="var">x</span> <span class="id" title="var">y</span> (<span class="id" title="var">v</span> <span class="id" title="var">w</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) : <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.vector.html#72b73f5650a2937a85312174dd439164"><span class="id" title="notation">:::</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="stdpp.vector.html#72b73f5650a2937a85312174dd439164"><span class="id" title="notation">:::</span></a> <a class="idref" href="stdpp.vector.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#w"><span class="id" title="variable">w</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.vector.html#vcons_inj"><span class="id" title="abbreviation">vcons_inj</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="vec_eq"><span class="id" title="lemma">vec_eq</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span>} (<span class="id" title="var">v</span> <span class="id" title="var">w</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#w"><span class="id" title="variable">w</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">vec_double_ind</span> <span class="id" title="var">v</span> <span class="id" title="var">w</span>; [<span class="id" title="var">done</span>|]. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">v</span> <span class="id" title="var">w</span> <span class="id" title="var">IH</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Hi</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hi</span> 0%<span class="id" title="var">fin</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hi</span> (<a class="idref" href="stdpp.fin.html#FS"><span class="id" title="abbreviation">FS</span></a> <span class="id" title="var">i</span>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="vec_dec"><span class="id" title="instance">vec_dec</span></a> {<span class="id" title="var">A</span>} {<span class="id" title="var">dec</span> : <a class="idref" href="stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a>} {<span class="id" title="var">n</span>} : <a class="idref" href="stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> (<a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="stdpp.vector.html#vec_rect2"><span class="id" title="abbreviation">vec_rect2</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">n</span> (<span class="id" title="var">v</span> <span class="id" title="var">w</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <span class="id" title="var">A</span> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.vector.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.decidable.html#cast_if_and"><span class="id" title="abbreviation">cast_if_and</span></a> (<span class="id" title="var">dec</span> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.vector.html#y"><span class="id" title="variable">y</span></a>) <a class="idref" href="stdpp.vector.html#H"><span class="id" title="variable">H</span></a>));<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.vector.html#vcons_inj_1"><span class="id" title="lemma">vcons_inj_1</span></a>, <a class="idref" href="stdpp.vector.html#vcons_inj_2"><span class="id" title="lemma">vcons_inj_2</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv_vec</span> <span class="id" title="var">v</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">T</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">v</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="tactic">eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">T</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="tactic">eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" title="var">revert</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">v</span>; <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> @?<span class="id" title="var">P</span> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> =&gt; <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.vector.html#vec_0_inv"><span class="id" title="abbreviation">vec_0_inv</span></a> <span class="id" title="var">P</span>) <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> ?<span class="id" title="var">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">v</span>; <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> @?<span class="id" title="var">P</span> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> =&gt; <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.vector.html#vec_S_inv"><span class="id" title="definition">vec_S_inv</span></a> <span class="id" title="var">P</span>) <span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Try&nbsp;going&nbsp;on&nbsp;recursively.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="keyword">let</span> <span class="id" title="var">x</span> := <span class="id" title="tactic">fresh</span> "x" <span class="id" title="tactic">in</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span>; <span class="id" title="var">inv_vec</span> <span class="id" title="var">v</span>; <span class="id" title="var">revert</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
The following tactic performs case analysis on all hypotheses of the shape
<span class="inlinecode"><a class="idref" href="stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a></span> <span class="inlinecode">0</span>, <span class="inlinecode"><a class="idref" href="stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a></span> <span class="inlinecode">(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>)</span>, <span class="inlinecode"><a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a></span> <span class="inlinecode">0</span> and <span class="inlinecode"><a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a></span> <span class="inlinecode">(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>)</span> until no further case
analyses are possible. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv_all_vec_fin</span> := <span class="id" title="var">block_goal</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">inv_vec</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">intros</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">i</span> : <a class="idref" href="stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">inv_fin</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">intros</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="var">unblock_goal</span>.<br/>

<br/>
</div>

<div class="doc">
We define a coercion from <span class="inlinecode"><a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a></span> to <span class="inlinecode"><span class="id" title="library">list</span></span> and show that it preserves the
operations on vectors. We also define a function to go in the other way, but
do not define it as a coercion, as it would otherwise introduce ambiguity. 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a name="vec_to_list"><span class="id" title="definition">vec_to_list</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span>} (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="stdpp.vector.html#261607594965a7bc2b3dae18cc7ac0f3"><span class="id" title="notation">[#]</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> | <span class="id" title="var">x</span> <a class="idref" href="stdpp.vector.html#72b73f5650a2937a85312174dd439164"><span class="id" title="notation">:::</span></a> <span class="id" title="var">v</span> =&gt; <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">:</span></a> <a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec</span></a> <a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">&gt;-&gt;</span></a> <a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">list</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a name="list_to_vec"><span class="id" title="abbreviation">list_to_vec</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Vectors.Vector.html#of_list"><span class="id" title="definition">Vector.of_list</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="vec_to_list_cons"><span class="id" title="lemma">vec_to_list_cons</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span>} <span class="id" title="var">x</span> (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> (<a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.vector.html#72b73f5650a2937a85312174dd439164"><span class="id" title="notation">:::</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="vec_to_list_app"><span class="id" title="lemma">vec_to_list_app</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>} (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) (<span class="id" title="var">w</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#m"><span class="id" title="variable">m</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> (<a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="stdpp.vector.html#113fda7f247b39926efae411da722a7b"><span class="id" title="notation">+++</span></a> <a class="idref" href="stdpp.vector.html#w"><span class="id" title="variable">w</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="stdpp.vector.html#w"><span class="id" title="variable">w</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">f_equal</span>/=. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="vec_to_list_to_vec"><span class="id" title="lemma">vec_to_list_to_vec</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a>): <a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> (<a class="idref" href="stdpp.vector.html#list_to_vec"><span class="id" title="abbreviation">list_to_vec</span></a> <a class="idref" href="stdpp.vector.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#l"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">f_equal</span>/=. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="vec_to_list_length"><span class="id" title="lemma">vec_to_list_length</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span>} (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">f_equal</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="vec_to_list_same_length"><span class="id" title="lemma">vec_to_list_same_length</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">n</span>} (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) (<span class="id" title="var">w</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="stdpp.vector.html#w"><span class="id" title="variable">w</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.vector.html#vec_to_list_length"><span class="id" title="lemma">vec_to_list_length</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="vec_to_list_inj1"><span class="id" title="lemma">vec_to_list_inj1</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>} (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) (<span class="id" title="var">w</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#m"><span class="id" title="variable">m</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="stdpp.vector.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">m</span> <span class="id" title="var">w</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">intros</span> ? [|???] ?;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>/=; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="vec_to_list_inj2"><span class="id" title="lemma">vec_to_list_inj2</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span>} (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) (<span class="id" title="var">w</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="stdpp.vector.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#w"><span class="id" title="variable">w</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">w</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">w</span>; <span class="id" title="var">inv_vec</span> <span class="id" title="var">w</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>/=; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="list_to_vec_to_list"><span class="id" title="lemma">list_to_vec_to_list</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span>} (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.vector.html#list_to_vec"><span class="id" title="abbreviation">list_to_vec</span></a> (<a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#eq_rect"><span class="id" title="definition">eq_rect</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a> (<a class="idref" href="stdpp.vector.html#vec_to_list_length"><span class="id" title="lemma">vec_to_list_length</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.vector.html#vec_to_list_inj2"><span class="id" title="lemma">vec_to_list_inj2</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.vector.html#vec_to_list_to_vec"><span class="id" title="lemma">vec_to_list_to_vec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a> (<a class="idref" href="stdpp.vector.html#vec_to_list_length"><span class="id" title="lemma">vec_to_list_length</span></a> <span class="id" title="var">v</span>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="vlookup_middle"><span class="id" title="lemma">vlookup_middle</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>} (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) (<span class="id" title="var">w</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#m"><span class="id" title="variable">m</span></a>) <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">i</span> : <a class="idref" href="stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> (<a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="stdpp.vector.html#m"><span class="id" title="variable">m</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="stdpp.vector.html#113fda7f247b39926efae411da722a7b"><span class="id" title="notation">+++</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.vector.html#72b73f5650a2937a85312174dd439164"><span class="id" title="notation">:::</span></a> <a class="idref" href="stdpp.vector.html#w"><span class="id" title="variable">w</span></a><a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">simpl</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span> 0%<span class="id" title="var">fin</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> ?]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<a class="idref" href="stdpp.fin.html#FS"><span class="id" title="abbreviation">FS</span></a> <span class="id" title="var">i</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="vec_to_list_lookup_middle"><span class="id" title="lemma">vec_to_list_lookup_middle</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span>} (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) (<span class="id" title="var">l</span> <span class="id" title="var">k</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="stdpp.vector.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">i</span> : <a class="idref" href="stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.vector.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.list.html#take"><span class="id" title="abbreviation">take</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.vector.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.list.html#drop"><span class="id" title="abbreviation">drop</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="stdpp.vector.html#vec_to_list_to_vec"><span class="id" title="lemma">vec_to_list_to_vec</span></a> <span class="id" title="var">l</span>), &lt;-(<a class="idref" href="stdpp.vector.html#vec_to_list_to_vec"><span class="id" title="lemma">vec_to_list_to_vec</span></a> <span class="id" title="var">k</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="stdpp.vector.html#vec_to_list_cons"><span class="id" title="lemma">vec_to_list_cons</span></a>, &lt;-<a class="idref" href="stdpp.vector.html#vec_to_list_app"><span class="id" title="lemma">vec_to_list_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="stdpp.vector.html#vec_to_list_inj1"><span class="id" title="lemma">vec_to_list_inj1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.vector.html#vec_to_list_inj2"><span class="id" title="lemma">vec_to_list_inj2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eexists</span> 0%<span class="id" title="var">fin</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.vector.html#vec_to_list_to_vec"><span class="id" title="lemma">vec_to_list_to_vec</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> ?]. <span class="id" title="tactic">exists</span> (<a class="idref" href="stdpp.fin.html#FS"><span class="id" title="abbreviation">FS</span></a> <span class="id" title="var">i</span>). <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="vec_to_list_drop_lookup"><span class="id" title="lemma">vec_to_list_drop_lookup</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span>} (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) (<span class="id" title="var">i</span> : <a class="idref" href="stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.list.html#drop"><span class="id" title="abbreviation">drop</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="stdpp.list.html#drop"><span class="id" title="abbreviation">drop</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">i</span>; <span class="id" title="var">inv_vec</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; [<span class="id" title="var">done</span> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHi</span>]. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="vec_to_list_take_drop_lookup"><span class="id" title="lemma">vec_to_list_take_drop_lookup</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span>} (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) (<span class="id" title="var">i</span> : <a class="idref" href="stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.list.html#take"><span class="id" title="abbreviation">take</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="stdpp.list.html#drop"><span class="id" title="abbreviation">drop</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="stdpp.list.html#take_drop"><span class="id" title="definition">take_drop</span></a> <span class="id" title="var">i</span> <span class="id" title="var">v</span>) <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.vector.html#vec_to_list_drop_lookup"><span class="id" title="lemma">vec_to_list_drop_lookup</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="vlookup_lookup"><span class="id" title="lemma">vlookup_lookup</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span>} (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) (<span class="id" title="var">i</span> : <a class="idref" href="stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">v</span> <span class="id" title="keyword">as</span> [|? ? <span class="id" title="var">v</span> <span class="id" title="var">IH</span>]; <span class="id" title="var">inv_fin</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">congruence</span>. <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="vlookup_lookup'"><span class="id" title="lemma">vlookup_lookup'</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span>} (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) (<span class="id" title="var">i</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">H</span> : <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#00fe0eaf5e6949f0a31725357afa4bba"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.fin.html#nat_to_fin"><span class="id" title="abbreviation">nat_to_fin</span></a> <a class="idref" href="stdpp.vector.html#H"><span class="id" title="variable">H</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hlt</span> ?]. <span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="stdpp.fin.html#fin_to_nat_to_fin"><span class="id" title="lemma">fin_to_nat_to_fin</span></a> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">Hlt</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.vector.html#vlookup_lookup"><span class="id" title="lemma">vlookup_lookup</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hvix</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hlt</span>:=<a class="idref" href="stdpp.list.html#lookup_lt_Some"><span class="id" title="lemma">lookup_lt_Some</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hvix</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.vector.html#vec_to_list_length"><span class="id" title="lemma">vec_to_list_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlt</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">Hlt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.vector.html#vlookup_lookup"><span class="id" title="lemma">vlookup_lookup</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin.html#fin_to_nat_to_fin"><span class="id" title="lemma">fin_to_nat_to_fin</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="elem_of_vlookup"><span class="id" title="lemma">elem_of_vlookup</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span>} (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.list.html#elem_of_list_lookup"><span class="id" title="lemma">elem_of_list_lookup</span></a>. <span class="id" title="tactic">setoid_rewrite</span> &lt;-<a class="idref" href="stdpp.vector.html#vlookup_lookup'"><span class="id" title="lemma">vlookup_lookup'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> (?&amp;?&amp;?); <span class="id" title="tactic">eauto</span>|]. <span class="id" title="tactic">intros</span> [<span class="id" title="var">i</span> <span class="id" title="var">Hx</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>, (<a class="idref" href="stdpp.fin.html#fin_to_nat_lt"><span class="id" title="lemma">fin_to_nat_lt</span></a> <span class="id" title="var">_</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin.html#nat_to_fin_to_nat"><span class="id" title="lemma">nat_to_fin_to_nat</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="Forall_vlookup"><span class="id" title="lemma">Forall_vlookup</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">P</span> : <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) {<span class="id" title="var">n</span>} (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="stdpp.vector.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.vector.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.list.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="stdpp.vector.html#elem_of_vlookup"><span class="id" title="lemma">elem_of_vlookup</span></a>. <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="Forall_vlookup_1"><span class="id" title="lemma">Forall_vlookup_1</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">P</span> : <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) {<span class="id" title="var">n</span>} (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="stdpp.vector.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.vector.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.vector.html#Forall_vlookup"><span class="id" title="lemma">Forall_vlookup</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="Forall_vlookup_2"><span class="id" title="lemma">Forall_vlookup_2</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">P</span> : <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) {<span class="id" title="var">n</span>} (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.vector.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="stdpp.vector.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.vector.html#Forall_vlookup"><span class="id" title="lemma">Forall_vlookup</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="Exists_vlookup"><span class="id" title="lemma">Exists_vlookup</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">P</span> : <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) {<span class="id" title="var">n</span>} (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">Exists</span></a> <a class="idref" href="stdpp.vector.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.vector.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.list.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="stdpp.vector.html#elem_of_vlookup"><span class="id" title="lemma">elem_of_vlookup</span></a>. <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="Forall2_vlookup"><span class="id" title="lemma">Forall2_vlookup</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">P</span> : <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.vector.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) {<span class="id" title="var">n</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">v1</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) (<span class="id" title="var">v2</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#Forall2"><span class="id" title="inductive">Forall2</span></a> <a class="idref" href="stdpp.vector.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="stdpp.vector.html#v1"><span class="id" title="variable">v1</span></a>) (<a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="stdpp.vector.html#v2"><span class="id" title="variable">v2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.vector.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.vector.html#v1"><span class="id" title="variable">v1</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="stdpp.vector.html#v2"><span class="id" title="variable">v2</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">vec_double_ind</span> <span class="id" title="var">v1</span> <span class="id" title="var">v2</span>; [<span class="id" title="tactic">intros</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span>; <span class="id" title="var">inv_fin</span> <span class="id" title="var">i</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">v1</span> <span class="id" title="var">v2</span> <span class="id" title="var">IH</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">inversion_clear</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="var">inv_fin</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">vec_double_ind</span> <span class="id" title="var">v1</span> <span class="id" title="var">v2</span>; [<span class="id" title="tactic">constructor</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ??? <span class="id" title="var">IH</span> ?? <span class="id" title="var">H</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">H</span> 0%<span class="id" title="var">fin</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>, (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">H</span> (<a class="idref" href="stdpp.fin.html#FS"><span class="id" title="abbreviation">FS</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Given a function <span class="inlinecode"><a class="idref" href="stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a></span> <span class="inlinecode">→</span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a></span>, we can construct a vector. 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a name="fun_to_vec"><span class="id" title="definition">fun_to_vec</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span>} {<span class="id" title="keyword">struct</span> <span class="id" title="var">n</span>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">f</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.vector.html#261607594965a7bc2b3dae18cc7ac0f3"><span class="id" title="notation">[#]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">f</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.vector.html#f"><span class="id" title="variable">f</span></a> 0%<span class="id" title="var">fin</span> <a class="idref" href="stdpp.vector.html#72b73f5650a2937a85312174dd439164"><span class="id" title="notation">:::</span></a> <a class="idref" href="stdpp.vector.html#fun_to_vec"><span class="id" title="definition">fun_to_vec</span></a> (<a class="idref" href="stdpp.vector.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="stdpp.fin.html#FS"><span class="id" title="abbreviation">FS</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_fun_to_vec"><span class="id" title="lemma">lookup_fun_to_vec</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> : <a class="idref" href="stdpp.vector.html#fun_to_vec"><span class="id" title="definition">fun_to_vec</span></a> <a class="idref" href="stdpp.vector.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">f</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">i</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">simpl</span>; [<span class="id" title="var">done</span>|]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The function <span class="inlinecode"><a class="idref" href="stdpp.vector.html#vmap"><span class="id" title="abbreviation">vmap</span></a></span> <span class="inlinecode"><a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a></span> applies a function <span class="inlinecode"><a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.f"><span class="id" title="variable">f</span></a></span> element wise to <span class="inlinecode"><a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Notation</span> <a name="vmap"><span class="id" title="abbreviation">vmap</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Vectors.Vector.html#map"><span class="id" title="definition">Vector.map</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="vlookup_map"><span class="id" title="lemma">vlookup_map</span></a> `(<span class="id" title="var">f</span> : <span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="var">B</span>) {<span class="id" title="var">n</span>} (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.vector.html#vmap"><span class="id" title="abbreviation">vmap</span></a> <a class="idref" href="stdpp.vector.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">v</span>; <span class="id" title="var">inv_fin</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="vec_to_list_map"><span class="id" title="lemma">vec_to_list_map</span></a> `(<span class="id" title="var">f</span> : <span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="var">B</span>) {<span class="id" title="var">n</span>} (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> (<a class="idref" href="stdpp.vector.html#vmap"><span class="id" title="abbreviation">vmap</span></a> <a class="idref" href="stdpp.vector.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="var">done</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHv</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The function <span class="inlinecode"><a class="idref" href="stdpp.vector.html#vzip_with"><span class="id" title="abbreviation">vzip_with</span></a></span> <span class="inlinecode"><a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#w"><span class="id" title="variable">w</span></a></span> combines the vectors <span class="inlinecode"><a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a></span> and <span class="inlinecode"><a class="idref" href="stdpp.vector.html#w"><span class="id" title="variable">w</span></a></span> element
wise using the function <span class="inlinecode"><a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.f"><span class="id" title="variable">f</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Notation</span> <a name="vzip_with"><span class="id" title="abbreviation">vzip_with</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Vectors.Vector.html#map2"><span class="id" title="definition">Vector.map2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="vlookup_zip_with"><span class="id" title="lemma">vlookup_zip_with</span></a> `(<span class="id" title="var">f</span> : <span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="var">B</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="var">C</span>) {<span class="id" title="var">n</span>} (<span class="id" title="var">v1</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) (<span class="id" title="var">v2</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.vector.html#vzip_with"><span class="id" title="abbreviation">vzip_with</span></a> <a class="idref" href="stdpp.vector.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.vector.html#v1"><span class="id" title="variable">v1</span></a> <a class="idref" href="stdpp.vector.html#v2"><span class="id" title="variable">v2</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.vector.html#v1"><span class="id" title="variable">v1</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="stdpp.vector.html#v2"><span class="id" title="variable">v2</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">vec_double_ind</span> <span class="id" title="var">v1</span> <span class="id" title="var">v2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>; <span class="id" title="var">inv_fin</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">v1</span> <span class="id" title="var">v2</span> <span class="id" title="var">IH</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_fin</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="vec_to_list_zip_with"><span class="id" title="lemma">vec_to_list_zip_with</span></a> `(<span class="id" title="var">f</span> : <span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="var">B</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="var">C</span>) {<span class="id" title="var">n</span>} (<span class="id" title="var">v1</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) (<span class="id" title="var">v2</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> (<a class="idref" href="stdpp.vector.html#vzip_with"><span class="id" title="abbreviation">vzip_with</span></a> <a class="idref" href="stdpp.vector.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.vector.html#v1"><span class="id" title="variable">v1</span></a> <a class="idref" href="stdpp.vector.html#v2"><span class="id" title="variable">v2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#zip_with"><span class="id" title="definition">zip_with</span></a> <a class="idref" href="stdpp.vector.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="stdpp.vector.html#v1"><span class="id" title="variable">v1</span></a>) (<a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="stdpp.vector.html#v2"><span class="id" title="variable">v2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">v2</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">v1</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">v2</span>; <span class="id" title="var">inv_vec</span> <span class="id" title="var">v2</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHv1</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Similar to vlookup, we cannot define <span class="inlinecode"><a class="idref" href="stdpp.vector.html#vinsert"><span class="id" title="definition">vinsert</span></a></span> as an instance of the
<span class="inlinecode"><a class="idref" href="stdpp.base.html#Insert"><span class="id" title="record">Insert</span></a></span> type class, as it has a dependent type. 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a name="vinsert"><span class="id" title="definition">vinsert</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span>} (<span class="id" title="var">i</span> : <a class="idref" href="stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) (<span class="id" title="var">x</span> : <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| 0%<span class="id" title="var">fin</span> =&gt; <a class="idref" href="stdpp.vector.html#vec_S_inv"><span class="id" title="definition">vec_S_inv</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.vector.html#72b73f5650a2937a85312174dd439164"><span class="id" title="notation">:::</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">FS</span> <span class="id" title="var">i</span> =&gt; <a class="idref" href="stdpp.vector.html#vec_S_inv"><span class="id" title="definition">vec_S_inv</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">y</span> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.vector.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="stdpp.vector.html#72b73f5650a2937a85312174dd439164"><span class="id" title="notation">:::</span></a> <a class="idref" href="stdpp.vector.html#vinsert"><span class="id" title="definition">vinsert</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="vec_to_list_insert"><span class="id" title="lemma">vec_to_list_insert</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span>} <span class="id" title="var">i</span> <span class="id" title="var">x</span> (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> (<a class="idref" href="stdpp.vector.html#vinsert"><span class="id" title="definition">vinsert</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#insert"><span class="id" title="definition">insert</span></a> (<a class="idref" href="stdpp.fin.html#fin_to_nat"><span class="id" title="definition">fin_to_nat</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">v</span>; <span class="id" title="var">inv_fin</span> <span class="id" title="var">i</span>. <span class="id" title="var">done</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHv</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="vlookup_insert"><span class="id" title="lemma">vlookup_insert</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span>} <span class="id" title="var">i</span> <span class="id" title="var">x</span> (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) : <a class="idref" href="stdpp.vector.html#vinsert"><span class="id" title="definition">vinsert</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">i</span>; <span class="id" title="var">inv_vec</span> <span class="id" title="var">v</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="vlookup_insert_ne"><span class="id" title="lemma">vlookup_insert_ne</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span>} <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">x</span> (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.vector.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.vector.html#vinsert"><span class="id" title="definition">vinsert</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.vector.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.vector.html#j"><span class="id" title="variable">j</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">i</span>; <span class="id" title="var">inv_fin</span> <span class="id" title="var">j</span>; <span class="id" title="var">inv_vec</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHi</span>. <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="vlookup_insert_self"><span class="id" title="lemma">vlookup_insert_self</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span>} <span class="id" title="var">i</span> (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) : <a class="idref" href="stdpp.vector.html#vinsert"><span class="id" title="definition">vinsert</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">v</span>; <span class="id" title="var">inv_fin</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">f_equal</span>/=. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="vmap_insert"><span class="id" title="lemma">vmap_insert</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.vector.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.vector.html#vmap"><span class="id" title="abbreviation">vmap</span></a> <a class="idref" href="stdpp.vector.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.vector.html#vinsert"><span class="id" title="definition">vinsert</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#vinsert"><span class="id" title="definition">vinsert</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.vector.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="stdpp.vector.html#vmap"><span class="id" title="abbreviation">vmap</span></a> <a class="idref" href="stdpp.vector.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">v</span>; <span class="id" title="var">inv_fin</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">f_equal</span>/=; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The functions <span class="inlinecode"><a class="idref" href="stdpp.vector.html#vtake"><span class="id" title="definition">vtake</span></a></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a></span> and <span class="inlinecode"><a class="idref" href="stdpp.vector.html#vdrop"><span class="id" title="definition">vdrop</span></a></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a></span> take the first <span class="inlinecode"><a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a></span> elements of
a vector <span class="inlinecode"><a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a></span>, respectively remove the first <span class="inlinecode"><a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a></span> elements of a vector <span class="inlinecode"><a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a name="vtake"><span class="id" title="definition">vtake</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span>} (<span class="id" title="var">i</span> : <a class="idref" href="stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">fin</span> <span class="id" title="var">n</span> <span class="id" title="keyword">return</span> <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| 0%<span class="id" title="var">fin</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.vector.html#261607594965a7bc2b3dae18cc7ac0f3"><span class="id" title="notation">[#]</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">FS</span> <span class="id" title="var">i</span> =&gt; <a class="idref" href="stdpp.vector.html#vec_S_inv"><span class="id" title="definition">vec_S_inv</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">x</span> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.vector.html#72b73f5650a2937a85312174dd439164"><span class="id" title="notation">:::</span></a> <a class="idref" href="stdpp.vector.html#vtake"><span class="id" title="definition">vtake</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="vdrop"><span class="id" title="definition">vdrop</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span>} (<span class="id" title="var">i</span> : <a class="idref" href="stdpp.fin.html#fin"><span class="id" title="abbreviation">fin</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> (<a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#7825ccc99f23b0d30c9d40c317ba7af0"><span class="id" title="notation">-</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">fin</span> <span class="id" title="var">n</span> <span class="id" title="keyword">return</span> <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> (<a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#7825ccc99f23b0d30c9d40c317ba7af0"><span class="id" title="notation">-</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| 0%<span class="id" title="var">fin</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">FS</span> <span class="id" title="var">i</span> =&gt; <a class="idref" href="stdpp.vector.html#vec_S_inv"><span class="id" title="definition">vec_S_inv</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.vector.html#vdrop"><span class="id" title="definition">vdrop</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="vec_to_list_take"><span class="id" title="lemma">vec_to_list_take</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span>} <span class="id" title="var">i</span> (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> (<a class="idref" href="stdpp.vector.html#vtake"><span class="id" title="definition">vtake</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.list.html#take"><span class="id" title="abbreviation">take</span></a> (<a class="idref" href="stdpp.fin.html#fin_to_nat"><span class="id" title="definition">fin_to_nat</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">i</span>; <span class="id" title="var">inv_vec</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">f_equal</span>/=; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="vec_to_list_drop"><span class="id" title="lemma">vec_to_list_drop</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">n</span>} <span class="id" title="var">i</span> (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> (<a class="idref" href="stdpp.vector.html#vdrop"><span class="id" title="definition">vdrop</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.list.html#drop"><span class="id" title="abbreviation">drop</span></a> (<a class="idref" href="stdpp.fin.html#fin_to_nat"><span class="id" title="definition">fin_to_nat</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="stdpp.vector.html#v"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">i</span>; <span class="id" title="var">inv_vec</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">f_equal</span>/=; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The function <span class="inlinecode"><a class="idref" href="stdpp.vector.html#vreplicate"><span class="id" title="definition">vreplicate</span></a></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a></span> generates a vector with length <span class="inlinecode"><a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a></span> of elements
with value <span class="inlinecode"><a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a name="vreplicate"><span class="id" title="definition">vreplicate</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">x</span> : <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span> 0 =&gt; <a class="idref" href="stdpp.vector.html#261607594965a7bc2b3dae18cc7ac0f3"><span class="id" title="notation">[#]</span></a> | <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> =&gt; <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.vector.html#72b73f5650a2937a85312174dd439164"><span class="id" title="notation">:::</span></a> <a class="idref" href="stdpp.vector.html#vreplicate"><span class="id" title="definition">vreplicate</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="vec_to_list_replicate"><span class="id" title="lemma">vec_to_list_replicate</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">n</span> (<span class="id" title="var">x</span> : <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> (<a class="idref" href="stdpp.vector.html#vreplicate"><span class="id" title="definition">vreplicate</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.list.html#replicate"><span class="id" title="definition">replicate</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">f_equal</span>/=. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="vlookup_replicate"><span class="id" title="lemma">vlookup_replicate</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">n</span> (<span class="id" title="var">x</span> : <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> : <a class="idref" href="stdpp.vector.html#vreplicate"><span class="id" title="definition">vreplicate</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.vector.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">f_equal</span>/=; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="vmap_replicate"><span class="id" title="lemma">vmap_replicate</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.vector.html#B"><span class="id" title="variable">B</span></a>) <span class="id" title="var">n</span> (<span class="id" title="var">x</span> : <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.vector.html#vmap"><span class="id" title="abbreviation">vmap</span></a> <a class="idref" href="stdpp.vector.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.vector.html#vreplicate"><span class="id" title="definition">vreplicate</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.vector.html#vreplicate"><span class="id" title="definition">vreplicate</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="stdpp.vector.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">f_equal</span>/=; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Vectors are inhabited and countable 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <a name="vec_0_inhabited"><span class="id" title="instance">vec_0_inhabited</span></a> <span class="id" title="var">T</span> : <a class="idref" href="stdpp.base.html#Inhabited"><span class="id" title="class">Inhabited</span></a> (<a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#T"><span class="id" title="variable">T</span></a> 0) := <a class="idref" href="stdpp.base.html#populate"><span class="id" title="constructor">populate</span></a> <a class="idref" href="stdpp.vector.html#261607594965a7bc2b3dae18cc7ac0f3"><span class="id" title="notation">[#]</span></a>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="vec_inhabited"><span class="id" title="instance">vec_inhabited</span></a> `{<a class="idref" href="stdpp.base.html#Inhabited"><span class="id" title="class">Inhabited</span></a> <span class="id" title="var">T</span>} <span class="id" title="var">n</span> : <a class="idref" href="stdpp.base.html#Inhabited"><span class="id" title="class">Inhabited</span></a> (<a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#populate"><span class="id" title="constructor">populate</span></a> (<a class="idref" href="stdpp.vector.html#vreplicate"><span class="id" title="definition">vreplicate</span></a> <span class="id" title="var">n</span> <a class="idref" href="stdpp.base.html#inhabitant"><span class="id" title="method">inhabitant</span></a>).<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="vec_countable"><span class="id" title="instance">vec_countable</span></a> `{<a class="idref" href="stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <span class="id" title="var">A</span>} <span class="id" title="var">n</span> : <a class="idref" href="stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> (<a class="idref" href="stdpp.vector.html#vec"><span class="id" title="abbreviation">vec</span></a> <a class="idref" href="stdpp.vector.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.countable.html#inj_countable"><span class="id" title="instance">inj_countable</span></a> <a class="idref" href="stdpp.vector.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#494023114504047e52a9ea5125441a44"><span class="id" title="notation">guard</span></a> <a class="idref" href="stdpp.base.html#494023114504047e52a9ea5125441a44"><span class="id" title="notation">(</span></a><span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="stdpp.vector.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="stdpp.base.html#494023114504047e52a9ea5125441a44"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#494023114504047e52a9ea5125441a44"><span class="id" title="notation">as</span></a> <span class="id" title="var">H</span><a class="idref" href="stdpp.base.html#494023114504047e52a9ea5125441a44"><span class="id" title="notation">;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#eq_rect"><span class="id" title="definition">eq_rect</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="stdpp.vector.html#list_to_vec"><span class="id" title="abbreviation">list_to_vec</span></a> <a class="idref" href="stdpp.vector.html#l"><span class="id" title="variable">l</span></a>) <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a> <a class="idref" href="stdpp.vector.html#H"><span class="id" title="variable">H</span></a>)))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">v</span>. <span class="id" title="var">case_option_guard</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.vector.html#list_to_vec_to_list"><span class="id" title="lemma">list_to_vec_to_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="stdpp.base.html#proof_irrel"><span class="id" title="definition">proof_irrel</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">Hn</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.vector.html#vec_to_list_length"><span class="id" title="lemma">vec_to_list_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
